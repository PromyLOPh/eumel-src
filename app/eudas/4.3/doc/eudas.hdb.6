#limit (11.0)##pagelength (16.5)##block#                                   
#start (2.0,0.0)# 
#page (51)# 
#headodd# 
#center#EUDAS#right#% 
 
#end# 
#headeven# 
%#center#EUDAS 
 
#end# 
#center#1 
 
6 Daten eingeben und ändern 
 
 
 
6.1 Neue Datei einrichten 
 
Nachdem Sie sich bis jetzt an einer existierenden Datei erprobt
haben, können Sie nun dazu übergehen, eine eigene neue Datei
einzurichten. Als Beispiel sollen Sie ein kleines Telefonregister
erstellen. 
    Dazu gehen Sie wieder in das Menü 'Öffnen' zurück und wäh­
len erneut die Funktion 
#free (0.2)# 
 
        O Öffnen 
 
#free (0.2)# 
indem Sie mehrmals OBEN tippen, bis die Funktion markiert. Dann
tippen Sie die Lerrtaste zum Ausführen. Als Dateinamen geben Sie
'Telefonnummern' an. 
    Da die Datei 'Telefonnummern' noch nicht existiert, werden Sie
gefragt: 
 
 
        "Telefonnummern" neu einrichten ? (j/n) #on("i")#j#off("i")# 
 
 
Es kann ja sein, daß Sie sich vertippt haben und eine andere,
existierende Datei meinten. In unserem Fall wird die Datei aber
wirklich neu eingerichtet, daher bejahen Sie die Frage. 
 
#on("b")#Feldnamen eingeben#off("b")# Wenn Sie beim Öffnen eine Datei neu
einrich­
ten, müssen Sie zuerst die Feldnamen festlegen, zum Beispiel diese: 
 
 
        'Name' 
        'Vorname' 
        'Strasse' 
        'PLZ' 
        'Ort' 
        'Telefon' 
        'Bemerkungen' 
 
 
Ihnen wird jetzt Gelegenheit gegeben, die Feldnamen untereinander
einzugeben. Zur Korrektur können Sie die gleichen Tasten verwen­
den wie im Editor (beachten Sie dazu die Statuszeile am oberen
Bildschirmrand. 
   Geben Sie die Namen in dieser Reihenfolge ein. Tippen Sie nach
jedem Namen die RETURN-Taste, damit der nächste Name in eine
neue Zeile kommt. Beenden Sie die Eingabe mit ESC 'q'. 
    Die folgende Frage ermöglicht es Ihnen, noch weitere Eigen­
schaften der Felder festzulegen. Dies ist jedoch im Normalfall nicht
nötig. Beantworten Sie also die Frage mit 'n'. Ihre Datei ist nun
eingerichtet. 
    Wie Sie sehen, besteht das Einrichten einer Datei eigentlich
nur aus der Eingabe der Feldnamen. Wenn Sie später noch Felder
anfügen wollen, ist dies ohne weiteres möglich. 
 
 
6.2 Sätze Einfügen 
 
Nachdem die Datei nun eingerichtet worden ist, sollen Sie zunächst
einige Sätze eingeben. Wenn Sie wieder das Menü 'Einzelsatz' an­
wählen, sehen Sie nur den leeren Satz mit der Anzeige 'ENDE', der
das Dateiende markiert. Um neue Sätze aufzunehmen, gibt es die
Funktion 
#free (0.2)# 
 
        E Einfügen 
 
#free (0.2)# 
Wenn Sie diese Funktion aufrufen, geschieht etwas Ähnliches wie
beim Eingeben des Suchmusters. Der Cursor wandert wieder hinter
den ersten Feldnamen und in der Statuszeile erscheint die Auffor­
derung 
 
___________________________________________________________________________________________ 
 
        SATZ EINFUEGEN:   Abbruch: ESC h   Beenden: ESC q   Hilfe: ESC ? 
___________________________________________________________________________________________ 
 
 
Sie können nun die Feldinhalte der einzelnen Felder neben die
entsprechenden Feldnamen schreiben. Mit der RETURN-Taste schlie­
ßen Sie eine Zeile ab und gelangen in die nächste. 
    Um eventuelle falsche Eingaben zu korrigieren, können Sie
ähnlich wie im Editor mit den Pfeiltasten herumfahren und falsche
Eingaben überschreiben. Die Taste RUBOUT löscht falsche Zeichen.
Sie beenden die Eingabe mit ESC 'q'. Anschließend ist der neue Satz
vorhanden. 
 
 
#free (4.5)# 
 
#center#Abb. 6-1   Einfügen 
 
 
#on("b")#Wirkung#off("b")# Die Wirkungsweise der Funktion 'Einfügen'
verdeutlicht
die Abb. 6-1. Dargestellt ist ein Ausschnitt aus einer Datei mit den
Sätzen 4 bis 7 und durch Buchstaben dargestellten, beliebigen In­
halten. Satz 6 sei der aktuelle Satz. 
    Beim Einfügen wird nun vor dem aktuellen Satz eine Lücke für
den neuen Satz geschaffen, die zunächst noch leer ist und dann von
Ihnen ausgefüllt werden muß. Die Satznummern aller folgenden Sätze
erhöhen sich um 1. 
    Die Leerstelle bleibt nur dann erhalten, wenn Sie Daten für den
neuen Satz eingeben. Anderenfalls wird nach ESC 'q' wieder der alte
Zustand hergestellt. 
    Dieses Verfahren erklärt auch, warum das Ende der Datei ein
leerer Pseudosatz ist. Um nämlich am Ende der Datei einen neuen
Satz anzufügen, muß man vor dem Endesatz einen Satz einfügen. 
    Nachdem Sie also jetzt den ersten Satz eingegeben haben,
müssen Sie sich wieder zum Ende bewegen, damit der nächste Satz
hinter dem ersten steht. Für diesen häufig benötigten Vorgang gibt
es eine Abkürzung: Wenn Sie die Eingabe mit ESC 'w' (Weiter) statt
ESC 'q' beenden, geht EUDAS nach dem Einfügen des Satzes weiter
zum nächsten und fügt dort wieder einen Satz ein. 
    Auf diese Weise können Sie also schnell eine ganze Reihe von
Sätzen nacheinander eingeben. Nachdem Sie einen Satz eingegeben
haben, tippen Sie ESC 'w' und können gleich anschließend schon mit
der Eingabe des nächsten Satzes beginnen. Alle so eingegebenen
Sätze erscheinen nachher in der Reihenfolge der Eingabe. 
 
#on("b")#Satzeditor#off("b")# Bei der Eingabe eines neuen Satzes haben Sie
nahezu
alle Möglichkeiten, die auch der EUMEL-Editor bietet. Der be­
schreibbare Bereich ist jedoch kleiner. Er umfaßt das ganze Gebiet,
in dem sonst die Feldinhalte erscheinen. 
    Wie beim Editor können Sie den Cursor mit den Cursortasten
(Pfeiltasten) bewegen. Mit der Taste RUBOUT können Sie ein Zeichen
löschen. Die restlichen Zeichen der Zeile rücken dann nach. Mit
RUBIN dagegen schalten Sie in einen Einfügemodus um. Alle einge­
gebenen Zeichen werden dann eingefügt - der Rest der Zeile rückt
entsprechend nach rechts. Nochmaliges Tippen von RUBIN schaltet
wieder in den alten Modus. Welcher Modus eingeschaltet ist, steht
in der Überschriftzeile. 
    Mit der Kombination ESC RUBOUT können Sie den Rest einer
Zeile ab der Cursorposition löschen. Steht der Cursor in der ersten
Spalte, wird dementsprechend die ganze Zeile gelöscht. Im Unter­
schied zum EUMEL-Editor rücken die folgenden Zeilen jedoch nicht
herauf. 
    Entsprechend fügen Sie mit der Funktion ESC RUBIN eine neue
Zeile ein. Dies ist immer dann erforderlich, wenn ein Feldinhalt
nicht auf eine Zeile paßt. Der Teil der Zeile, der hinter dem Cursor
steht, wird bei ESC RUBIN in die neue Zeile mitgenommen. 
    Normalerweise tippen Sie ESC RUBIN, wenn Sie an das Ende
einer Zeile kommen. Wenn Sie aber weiterschreiben, wird die Zeile
einfach gerollt. Dies ist nicht weiter schlimm, aber Sie können den
ganzen Feldinhalt nicht auf einmal sehen. 
    In der normalen Anzeige wird ein überlanger Inhalt auf jeden
Fall auf mehrere Zeilen verteilt. 
 
#on("b")#Warnung#off("b")# Ein Hinweis für alle, die sich mit der
Editorbedienung
schon auskennen: EUDAS benutzt den Editor als Unterprogramm.
Jedoch haben einige Editorfunktionen unliebsame Auswirkungen.
Besonders gefährlich sind hier HOP RUBOUT und HOP RUBIN. Diese
Funktion zerstören die Korrespondenz zwischen Feldnamen und
Feldinhalten, das heißt der Feldinhalt steht nicht mehr neben dem
Feldnamen. 
    Weiterhin können Sie das Editorbild rollen, ohne daß die Feld­
namen mitrollen (zum Beispiel wenn Sie in der untersten Zeile
RETURN drücken). In diesem Fall ist die Korrespondenz auch nicht
erhalten, das heißt die Inhalte stehen falsch, sind aber eigentlich
richtig. 
    In solchen Fällen erscheint am oberen oder unteren Rand der
Hinweis "Bitte ESC '1' druecken". Wenn das Editorbild nur gerollt
wurde, verschwindet durch ESC '1' der Hinweis wieder und das Bild
ist in Ordnung. Wenn jedoch Zeilen gelöscht oder eingefügt wurden,
müssen Sie diese Änderungen von Hand wieder rückgängig machen,
bis der Hinweis verschwindet. Sie sollten also HOP RUBOUT und HOP
RUBIN im Satzeditor nicht verwenden. 
    Im Zweifelsfall, wenn Sie meinen, den Satz durcheinanderge­
bracht zu haben, können Sie immer mit ESC 'h' abbrechen. Es steht
dann der vorherige Zustand für einen neuen Versuch zur Verfügung. 
 
 
6.3 Daten ändern 
 
Wenn Sie nachträglich noch eingegebene Daten ändern wollen, kön­
nen Sie die Funktion 
#free (0.2)# 
 
        A Ändern 
 
#free (0.2)# 
verwenden. Sie haben anschließend wie beim Einfügen Gelegenheit,
neue Daten einzugeben. Allerdings werden Ihnen die bisherigen
Daten gleich mit angeboten, so daß Sie nur die Änderungen ein­
geben müssen. Alles andere kann unverändert bleiben. Auch diese
Funktion wird mit ESC 'q' verlassen. ESC 'w' funktioniert beim
Ändern ebenfalls (der nächste Satz wird zum Ändern angeboten). 
   Stellen Sie beim Ändern oder Einfügen fest, daß Sie irgendeinen
krassen Fehler gemacht haben, können Sie die Operation mit ESC 'h'
abbrechen. Beim Ändern bleibt dann der alte Zustand unverändert,
beim Einfügen wird kein Satz eingefügt. 
 
#on("b")#Löschen#off("b")# Für den Fall, daß Sie einen Satz wieder ganz aus
der
Datei löschen wollen, hat EUDAS eine besondere Vorsichtsmaßnahme
vorgesehen. Damit der Satz nicht gleich unwiederbringlich verloren­
geht, müssen Sie ihn zunächst in eine andere Datei #on("i")#tragen#off("i")#. Falls
das Löschen ein Irrtum war, können Sie den Satz von dort noch
wiederholen. In vielen Fällen besteht ohnehin die Anforderung, daß
auch die nicht mehr aktuellen Daten noch eine gewisse Zeit aufge­
hoben werden müssen. 
    Zum Tragen gibt es die Funktion 
 
 
        Datensatz 
        T Tragen 
 
 
Sie werden nach einem Dateinamen gefragt. Geben Sie hier zum
Beispiel 'müll' an. Da diese Datei noch nicht existiert, werden Sie
gefragt, ob Sie sie neu einrichten wollen (falls Sie sich vielleicht
verschrieben haben). Danach wird der aktuelle Satz in die Datei
'müll' transportiert. Am Bildschirm erscheint der nächste Satz. Der
getragene Satz kommt an das Ende der Zieldatei. 
    Eine Bedingung beim Tragen ist, daß die Zieldatei immer die
gleichen Felder haben muß wie die aktuelle Datei. Sie können also
nicht aus verschieden strukturierten Dateien in die gleiche Datei
tragen. 
    Zum Zurückholen eines Satzes benutzen Sie die Funktion 
 
 
        Datensatz 
        H Holen 
 
 
Der letzte Satz der Datei, die Sie angeben, wird vor dem aktuellen
Satz eingefügt. Dadurch wird der Effekt des letzten Tragens wieder
aufgehoben. 
    Um die getragenen Sätze endgültig zu vernichten, müssen Sie
die Zieldatei als Ganzes löschen. Die dazu notwendige Funktion aus
dem Menü 'Dateien' haben Sie bereits in Abschnitt 4.4 kennenge­
lernt. 
 
 
6.4 Arbeitskopie sichern 
 
Wenn Sie eine Datei zum Ändern öffnen oder sie gerade neu einge­
richtet haben, wird von dieser Datei intern eine Arbeitskopie ange­
legt, die dann geändert wird. Sie müssen diese Arbeitskopie nach
den Änderungen sichern, damit die Änderungen wirksam werden. 
    In unserem Beispiel ist die Datei "Telefonnummern" immer noch
leer. Die Änderungen sind momentan nur in der internen Kopie
vorhanden. Wenn Sie die Datei zum Beispiel auf eine Archivdiskette
schreiben wollten, würden Sie eine leere Datei auf der Diskette
haben. 
    Zum Sichern rufen Sie die Funktion 
#free (0.2)# 
 
        S Sichern 
 
#free (0.2)# 
im ersten Menü auf. Es erscheint dann folgende Frage: 
 
___________________________________________________________________________________________ 
 
      Arbeitskopie "Telefonnummern" veraendert! Sichern (j/n) ? 
___________________________________________________________________________________________ 
 
 
Beantworten Sie diese Frage mit 'j'. Als nächstes wird gefragt: 
 
___________________________________________________________________________________________ 
 
      Alte Version überschreiben (j/n) ? 
___________________________________________________________________________________________ 
 
 
Beantworten Sie auch diese Frage mit 'j'. Die Arbeitskopie über­
schreibt dann die (leere) Version vor dem Ändern. 
    Wenn Sie die Frage verneint hätten, könnten Sie anschließend
einen neuen Namen für die Arbeitskopie angeben. Dies wäre dann
sinnvoll, wenn Sie den Stand vor den Änderungen noch aufbewahren
wollen. In diesem Fall ist es jedoch nutzlos, die alte leere Datei
noch behalten zu wollen. 
    Abschließend wird gefragt, ob Sie die Arbeitskopien löschen
wollen. Wenn Sie noch weiter mit der Datei arbeiten wollen, vernei­
nen Sie diese Frage. Die Datei bleibt dann geöffnet. Anderenfalls
müßten Sie die Datei neu öffnen, wenn Sie sie wieder ansehen wol­
len. 
 
#on("b")#Arbeitskopien#off("b")# Es ist sehr wichtig, daß Sie sich die
Funktionsweise
mit der Arbeitskopie immer vor Augen halten, damit Sie später bei
der Arbeit mit EUDAS nicht überrascht werden. 
    Eine Arbeitskopie wird immer dann angelegt, wenn Sie beim
Öffnen einer EUDAS-Datei angeben, daß Sie diese Datei ändern
wollen. In dem Beispiel haben Sie eine neue Datei eingerichtet.
EUDAS nimmt dann automatisch an, daß Sie ändern wollen. Öffnen
Sie eine existierende Datei, werden Sie gefragt 
 
___________________________________________________________________________________________ 
 
      Wollen Sie etwas ändern (Arbeitskopie anlegen) (j/n) ? 
___________________________________________________________________________________________ 
 
 
Wenn Sie diese Frage verneinen, wird keine Arbeitskopie angelegt;
alle Änderungsfunktionen werden jedoch gesperrt. Daran können Sie
auch erkennen, daß keine Arbeitskopie vorliegt. 
    Die Arbeitskopie, die EUDAS sich anlegt, ist anonym. Wenn Sie
sich also im Menü 'Dateien' eine Übersicht zeigen lassen, erscheint
nur das Original. Bevor Sie mit diesem Original etwas anstellen
(zum Beispiel auf Archiv schreiben), sollten Sie sich vergewissern,
daß Sie die Arbeitskopie gesichert haben, da das Original sonst
nicht auf dem neuesten Stand ist. 
    Um Sie in diesem Fall zu warnen, erscheint vor einer geöffneten
Datei in einer Dateiauswahl das Symbol <!>, zum Beispiel: 
 
 
          o <!> "Telefonnummern" 
          o "Mitglieder" 
 
 
Wenn Sie dieses Symbol sehen, sollten Sie die Datei lieber erst
sichern, bevor Sie etwas mit ihr anstellen. 
 
#on("b")#Beispiel#off("b")# Um die Arbeitsweise von EUDAS noch besser zu
verstehen,
betrachten Sie das Beispiel in Abb. 6-2. Nehmen Sie an, Sie haben
drei EUDAS-Dateien 'Kalender', 'Namen' und 'Adressen' mit ihren
Anfangsinhalten K0, N0 und A0 (symbolisch). In dem Diagramm sind
die Vorgänge zu den Zeitpunkten 0 bis 10 mit ihren Auswirkungen
auf die Inhalte der Dateien und der Arbeitskopie dargestellt. 
 
 
#free (5.5)# 
#center#Abb. 6-2   Beispiel zur Arbeitskopie 
 
 
Zu den einzelnen Zeitpunkten passiere folgendes: 
 
0:   Anfangszustand. Es wurde noch keine Datei geöffnet, also ist
     keine Arbeitskopie vorhanden. Es könnte aber auch eine
     beliebige Datei ohne Änderungserlaubnis geöffnet sein. 
#free (0.2)# 
1:   Die Datei 'Adressen' wird geöffnet zum Ändern. Der momen­
     tane Zustand der Datei wird als Arbeitskopie übernommen. 
#free (0.2)# 
2:   Es wird eine Änderung vorgenommen (zum Beispiel) ein Satz
     eingefügt). Diese Änderung betrifft aber nur die Kopie - die
     Datei 'Adressen' als Original bleibt unverändert. 
#free (0.2)# 
3:   Eine weitere Änderung führt zum Inhalt A2 der Arbeitsko­
     pie. 
#free (0.2)# 
4:   Aufruf von 'Sichern'. Die alte Version von 'Adressen' wird
     überschrieben und durch den Inhalt A2 ersetzt. Die Frage
     nach dem Löschen der Arbeitskopie wird verneint; daher bleibt
     die Kopie auch erhalten. 
#free (0.2)# 
5:   Die Kopie wird erneut verändert. 
#free (0.2)# 
6:   Aufruf von 'Sichern'. Die Frage, ob die Kopie gesichert wer­
     den soll, wird verneint. Die Arbeitskopie soll jedoch gelöscht
     werden. Als Ergebnis geht die Änderung A3 verloren (viel­
     leicht war diese Änderung ein Irrtum). Die Datei 'Adressen'
     wird nicht verändert. Es ist keine Arbeitskopie mehr vor­
     handen. 
#free (0.2)# 
7:   Die Datei 'Namen' wird zum Ändern geöffnet. 
#free (0.2)# 
8:   Die Datei 'Kalender' wird zum Ändern geöffnet. Da an der
     vorigen Arbeitskopie keine Änderungen vorgenommen wurden,
     kann die Kopie einfach überschrieben werden. Anderenfalls
     wäre an dieser Stelle die Möglichkeit zum Sichern angeboten
     worden. 
#free (0.2)# 
9:   Es wird eine Änderung durchgeführt. 
#free (0.2)# 
10:  Die geänderte Arbeitskopie wird gesichert, das Original über­
     schrieben und die Arbeitskopie gelöscht (Normalfall). 
 

