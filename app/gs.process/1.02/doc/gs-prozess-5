limit (11.0)##pagelength (16.5)##block# 
#start (2.0,0.0)# 
#page (1)# 
#headodd# 
#center#gs-Prozess#right#% 
 
#end# 
#headeven# 
%#center#gs-Prozess
 
#end# 
#center#1 
 
#on("b")#5  Konfiguration von gs-Prozess#off("b")# 
#on("b")#    Test des Interface-Systems#off("b")# 
 
In diesem Kapitel erfahren Sie, wie Sie #on("b")#gs-Prozess#off("b")# entsprechend der angeschlossenen
Hardware konfigurieren müssen. Anschließend zeigen wir Ihnen, wie Sie Ihr Inter­
face-System testen können. 
 
Wir gehen hier davon aus, daß die Hardware-Voraussetzungen erfüllt, das Interface-
System über einen Adapter (MUFI / RS232-Adapter) angeschlossen und #on("b")#gs-Prozess#off("b")#
auf dem Rechner installiert sind. 
 
 
#on("b")#5.1  Kontrolle der Konfigurationen/Anschlüsse#off("b")# 
 
Bevor Sie mit der Arbeit beginnen, überzeugen Sie sich unbedingt (noch einmal)
davon, daß die Konfigurationen und die Steckverbindungen den Vorgaben ent­
sprechen: 
 
-   #on("b")#MUFI im Terminalkanal:#off("b")# 
 
    Sind die beiden Kabel zum Rechner und zum Terminal an der Rückseite des
    MUFIs korrekt aufgesteckt (sehen Sie Abb.3)? Haben Sie die notwendigen
    Konfigurationen vorgenommen (Task 'configurator', MUFI-DIP-Schalter, Ter­
    minal)? Ist das Netzkabel des MUFIs mit dem Stromnetz verbunden? Ist das
    Verbindungskabel zwischen MUFI und Interface-System an der Vorderseite des
    MUFIs und am Interface-System (Compact-Box, Einzel- oder Mehrfachsteck­
    platz) aufgesteckt? 
#page# 
-   #on("b")#MUFI als Endgerät:#off("b")# 
 
    Ist das vom Computer kommende Kabel auf den mit V24/2 gekennzeichneten
    Stecker aufgesteckt? Haben Sie auf den freien Stecker (V24/1) einen "Kurz­
    schlußstecker" aufgesteckt? Haben Sie ein Kabel verwendet, über welches das
    RTS/CTS-Protokoll abgewickelt werden kann? Haben Sie den Kanal, an dem das
    MUFI betrieben wird, den Anweisungen in Kapitel 3.1.3 entsprechend kon­
    figuriert? Sind die DIP-Schalter im MUFI entsprechend eingestellt? Ist das
    Netzkabel des MUFIs mit dem Stromnetz verbunden? Ist das Verbindungskabel
    zwischen MUFI und Interface-System an der Vorderseite des MUFIs und am
    Interface-System (Compact-Box, Einzel- oder Mehrfachsteckplatz) aufgesteckt? 
 
 
-   #on("b")#RS232-Adapter:#off("b")# 
 
    Ist das Schnittstellen-Kabel korrekt am Computer angeschlossen? Haben Sie den
    Kanal, an dem der RS232-Adapter betrieben wird, den Anweisungen in Kapitel
    3.2 entsprechend konfiguriert? Ist der Jumper im RS232-Adapter korrekt aufge­
    steckt? Ist der RS232-Adapter an das Interface-System (Compact-Box, Einzel-
    oder Mehrfachsteckplatz) angesteckt? Ist der 3polige Platinenstecker des
    Adapters in die 12V-Spannungsversorgungs-Buchse des Interface-Systems
    eingesteckt? 
 
 
-   #on("b")#Compact-Box#off("b")# 
 
    Ist die Compact-Box an das zugehörige Netzgerät angeschlossen? Ist der Stecker
    wirklich richtig herum eingesteckt? Ist das Netzteil mit dem Stromnetz ver­
    bunden? 
 
-   #on("b")#Einzelsteckplatz#off("b")# 
 
    Ist eine Kombi-Karte oder eine E/A-Karte eingesteckt? Ist das Netzkabel des
    Steckplatz-Netzgerätes mit dem Stromnetz verbunden? 
#page# 
-   #on("b")#Mehrfachsteckplatz#off("b")# 
 
    Ist ein passendes Netzteil an den Mehrfachsteckplatz angeschlossen? Ist das
    zugehörige Netzkabel mit dem Stromnetz verbunden? Ist eine Kombi- oder
    E/A-Karte in einen Steckplatz eingesteckt? 
 
 
#on("b")#5.2  Vorbereitungen für den Ein-/Ausgabetest#off("b")# 
 
Für den Ausgabetest sollte eine 8elementige Leuchtdiodenanzeige zur Verfügung
stehen, um am Interface-System die Ausgaben kontrollieren zu können. Sofern Sie
mit der Compact-Box arbeiten oder eine E/A-Karte verwenden, brauchen Sie sich
darum nicht weiter zu kümmern, denn in diese Systeme ist eine Leuchtdioden­
anzeige integriert. Wenn Sie dagegen mit einer Kombikarte arbeiten, muß eine
gesonderte Anzeige (kann leicht selbst gebaut werden oder ist fertig zu kaufen bei der
Fa. AKTRONIK) angeschlossen werden. 
 
Für den Eingabetest reicht ein kleines Drahtstück, an dem zwei kleine Lötschuhe
angelötet sind - schön wäre es, wenn ein Codekarten-Leser zur Verfügung stünde. 
 
 
#on("b")#5.2.1  Anschluß einer Leuchtdiodenanzeige an die Kombikarte#off("b")# 
 
Stecken Sie den 8poligen Platinenstecker, der an der Leuchtdiodenanzeige befestigt
ist, auf die mit "AUSG." gekennzeichnte Buchse der Kombikarte. Den Lötschuh des
einzelnen Drahtes an der Leuchtdiodenanzeige stecken Sie auf den Masse-Lötstift
direkt neben der "Ausgangs-Buchse" der Kombikarte (sehen Sie Abb. 7). Da die
Leuchtdiodenanzeige mit Spannung versorgt werden muß, müssen jetzt noch zwei
Kabel - wie in der Abb. 7 dargestellt (Kabel 1 und Kabel 2) - aufgesteckt werden. 
#page# 

 
 
      +---------------------------------------------------------------+
      |        4-7                   o----------+                     |
      |   +-+-----------+-+                     |                     |
      |   | |     O     | |        GMD o        |                     |
      |   | |           | |                     | Kabel 1             |
      |   | |           | |                     |                     |
      | v | |     O     | |                     |                     |
      |   | |           | |                     |                     |
      |  E| |           | |                     |                     |
      |   | |     O     | |                     |                     |
      |   +-+-------------+          ___________|                     |
      |                            o -----------|                     |
      |      Ausg.                              |                     |
      |   +---------------+   O 0               |                     |
      |   | +-----------+ |     1 O             |                    |
   ---+---|-|---|       | |   O 2               |                     |
   ---+---|-|---|       | |     3 O             |                     |
   ---+---|-|---|       | |   O 4               |                     |
   ---|---|-|---|       | |     5 O             |                     |
   ---|---|-|---|       | |   O 6               |                     |
   ---|---|-|---|       | |     7 O             |                     |
      |   | +-----------+ |                     |                     |
      |   +---------------+                     |                     |
<-----------------o                             | Kabel 2             |
 Zur Leuchtdiodenanzeige                        |                     |
      |   +---------------+                     |                     |
      |   |       O       |   O 0               |                     |
      |   |       O       |     1 O             |                     |
      |   |       O       |   O 2               |                     |
      |   |       O       |     3 O             |                     |
      |   |       O       |   O 4               |                     |
      |   |       O       |     5 O             |                     |
      |   |       O       |   O 6               |                     |
      |   |       O       |     7 O             |                     |
      |   +---------------+                     |                     |
      |     GMD o  o  +5V                       |                     |
      |            |                            |                     |
      |            +----------------------------+                     |
      |                                                               |
      |   +---------------+                                           |
      |   |      O        |      +  O                                 |
      |   |      O        |   O E2                                    |
      |   |      O        |     GMD O                                 |
      |   +---------------+                                           |
      |                                                               |
      |   +---------------+                                           |
      |   |      O        |      +  O                                 |
      |   |      O        |   O E2                                    |
      |   |      O        |     GMD O                                 |
      |   +---------------+                                           |
      |            o   o   o   o   o   o   o   o   o   o              |
      |            |   |   |   |   |   |   |   |   |   |              |
      |        +-o-+-o-+-o-+-o-+-o-+-o-+-o-+-o-+-o-+-o-+-o-+          |
      |        |                                           |          |
      +----------+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+----------+
                 | | | | | | | | | | | | | | | | | | | | |
                 | | | | | | | | | | | | | | | | | | | | |
 
#center#Abb.7:  Anschluß Leuchtdiodenanzeige - Kombikarte 
      
#on("b")#ACHTUNG!#off("b")# Bei dieser Spannungversorgung auf der Kombikarte (+5V) darf #on("b")#auf
keinen Fall#off("b")# eine größere Last (z.B. Motor oder auch nur eine Glühbirne) ange­
schlossen werden, da dadurch die Interfacekarte bzw. das Netzteil im Einzelsteck­
platz beschädigt werden könnte. 
#page# 
Möchten Sie eine größere Last anschließen, so benötigen Sie ein stabilisiertes Netzteil
mit "ordentlich geglättetem" Gleichstrom. Die Masse (Minuspol) des Netztteils be­
festigen Sie an dem Lötschuh (oder der davorliegenden Klemme), der zwischen den
beiden Lötstiften liegt, an denen in der Abb.7 das Kabel 1 befestigt ist. Den Pluspol
des Netzteiles verbinden Sie mit mit einem der Lötstifte (bzw. an der davorliegenden
Klemme), auf dem jetzt das Kabel 1 befestigt ist. Damit alle 8 Ausgänge mit Span­
nung versorgt werden, müssen Sie auch hier ebenfalls eine Brücke zum zweiten
Lötschuh (oder der Klemme davor), an dem in der Zeichnung Kabel 1 befestigt ist,
anbringen. 
 
Da die Compact-Box ohnehin durch das Netzteil versorgt wird, kann es hier nicht zu
Komplikationen kommen. Wollen Sie eine größere Last an die E/A-Karte anschließen,
so benötigen Sie z.B. eine Relais-Box. 
 
 
 
#on("b")#5.2.2  Anschluß des Codekartenlesers (Drahtstück)#off("b")# 
 
Stecken Sie den 8poligen Platinenstecker, der am Codekartenleser befestigt ist, auf
die Eingangsbuchse an Ihrem Interface-System. Dann muß noch der 3polige
Platinenstecker, der ebenfalls am Codekartenleser befestigt ist, an die 12V-Span­
nungsversorgungs-Buchse an Ihrem Interface-System aufgesteckt werden. 
 
haben Sie keinen Codekartenleser zur Hand, so reicht für den Eingabetest auch ein
kleines Kabelstück aus, an dessen Enden jeweils ein Lötschuh angelötet sein sollte.
Stecken Sie den einen Lötschuh auf einen +5V-Lötstift Ihres Interface-Systems. Das
andere Ende des Kabels wird zunächst noch nicht befestigt. 
 
Auf der Kombikarte sind die +5V-Lötstifte beschriftet und damit leicht zu finden. Wo
Sie einen +5V-Lötstift auf der E/A-Karte finden, können Sie der folgenden Abbildung
entnehmen: 
#page# 
                                           Leuchtdiodenanzeige 
                                                      |
              +---------------------------------------+------------+
              |   +---------------+                   |            |
              |   |       O       |   O 0             V            |
Digital-      |   |       O       |     1 O     o o o o o o o o    |
Ausgang       |   |       O       |   O 2                          |
              |   |       O       |     3 O                        |
              |   |       O       |   O 4                          |
              |   |       O       |     5 O                        |
              |   |       O       |   O 6                          |
              |   |       O       |     7 O                        |
              |   +---------------+                                |
              |   +---------------+                                |
              |   |       O       |   O 0                          |
Digital-      |   |       O       |     1 O                        |
Eingang       |   |       O       |   O 2                          |
              |   |       O       |     3 O                        |
              |   |       O       |   O 4                          |
              |   |       O       |     5 O                        |
              |   |       O       |   O 6                          |
              |   |       O       |     7 O                        |
              |   +---------------+                                |
              |   +---------------+                                |
              |   |       O       |   O 0                          |
Versorgungs-  |   |       O       |     1 O                        |
und           |   |       O       |   O 2                          |
Steuer-       |   |       O       |     3 O                        |
leitung       |   |       O       |   O 4                          |
              |   |       O       |     5 O                        |
              |   |       O---5V------O 6                          |
              |   |       O       |     7 O                        |
              |   +-------|-------+       |                        |
              |           |               |                        |
              |           +---------------+                        |
              |           |                                        |
              |          GMD                                       |
              |                                                    |
              |        o   o   o   o   o   o   o   o   o   o       |
              |        |   |   |   |   |   |   |   |   |   |       |
              |    +-o-+-o-+-o-+-o-+-o-+-o-+-o-+-o-+-o-+-o-+-o-+   |
              |    |                                           |   |
              +----+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+---+
                     | | | | | | | | | | | | | | | | | | | | |
                     | | | | | | | | | | | | | | | | | | | | |
 
 
#center#Abb.8:  Pinbelegung auf der E/A-Karte 
 
 
#on("b")#5.3  Konfiguration von gs-Prozess#off("b")# 
 
Normalerweise kann in jeder Task, in der #on("b")#gs-Prozess#off("b")# zur Verfügung steht, die
Konfiguration vorgenommen werden (beachten Sie aber bitte die Bemerkungen im
Kapitel "Hinweise für den Systembetreuer/Programmierer"). 
 
Richten Sie eine Sohntask der Task ein, in der #on("b")#gs-Prozess#off("b")# installiert ist - in unserem
Fall soll das die Task 'PDV' sein. Die Sohntask soll den Namen 'pdvtest' erhalten: 
#page# 
#on("b")# 
             <SV>      (Supervisor - Taste) 
#off("b")# 
       -->   gib supervisor kommando: 
#on("b")# 
             begin ("pdvtest","PDV") <RETURN> 
#off("b")# 
       -->   gib kommando: 
#on("b")# 
             pdv <RETURN> 
#off("b")# 
 
Daraufhin erscheint der in Abb.9 dargestellte Menubildschirm. Über die Menupunkte
im dann sichtbaren Pull-Down-Menu können Sie diverse Informationen zu
#on("b")#gs-Prozess#off("b")# abrufen, auf die wir hier allerdings nicht weiter eingehen wollen. Statt­
dessen drücken Sie bitte die 'Pfeiltaste rechts'. Sie gelangen so zum Menu unter dem
Oberbegriff "Interface" (Abb. 10). 
 
 
+---------------------------------------------------------------------+
|    PDV:  Info Interface Programm Archiv                             |
|-------+------------------------+------------------------------------+
|       | u  Übersicht Befehle   |                                    |
|       | ---------------------  |                                    |
|       | a  Ausgabebefehle      |                                    |
|       | e  Eingabebefehle      |                                    |
|       | t  Testbefehle         |                                    |
|       | w  Weitere Befehle     |                                    |
|       | ---------------------  |                                    |
|       | b  Bitmuster           |                                    |
|       | s  Symbole/Zeichen     |                                    |
|       | d  Digital-/Analogwerte|                                    |
|       +------------------------+                                    |
|                                                                     |
|                       +----------------------------------------+    |
|                       |             gs-Prozess                 |    |
|                       |             Version 1.0                |    |
|                       |                                        |    |
|                       |  Copyright Ρ 1988 bei Eva Latta-Weber, |    |
|                       |                   Bielefeld            |    |
|                       +----------------------------------------+    |
+---------------------------------------------------------------------+
|Info:<ESC><?>/<?> Wahl:<Pfeile> Ausführen:<RETURN> Verlassen:<ESC><q>|
+---------------------------------------------------------------------+
 
 
     Abb.9:  Eingangsbildschirm #on("b")#gs-Prozess#off("b")# 
#page# 
 
+-----------------------------------------------------------------------+
|    PDV:  Info Interface Programm Archiv                               |
+-------+-------------------+-------------------------------------------+
|       | i  Informationen  |                                           |
|       | ----------------  |                                           |
|       | k  Konfigurieren  |                                           |
|       | ----------------  |                                           |
|       | a  Ausgabetest    |                                           |
|       | e  Eingabetest    |                                           |
|       +-------------------+                                           |
|                                                                       |
|                                                                       |
|                                                                       |
+---------------------------------------------------------------------- +
| Info:<ESC><?>/<?> Wahl:<Pfeile> Ausführen:<RETURN> Verlassen:<ESC><q> |
+-----------------------------------------------------------------------+

 #center#Abb.10:  Menubildschirm zum Oberbegriff 'Interface' 
 
 
Über den ersten Menupunkt ("Informationen") kann die aktuelle Konfiguration des
Interfaces erfragt werden. Wenn Sie diesen Menupunkt aktivieren und es ist weder in
dieser Task noch in einer übergeordneten Task eine Konfiguration vorgenommen
worden, erhalten Sie die folgende Warnung: 
 
         +----------------------------------------+
         | Interface ist noch nicht konfiguriert! |
         +----------------------------------------+
#center#Abb.11:  Information bei unkonfiguriertem System 
 
 
Ist schon eine Konfiguration, z.B. in der Vatertask vorgenommen worden, so wird
Ihnen die aktuellen Einstellung angezeigt (s.u.). 
#page# 
#on("b")#5.3.1  Auswahl der Steckplatzart/Interfacekarte#off("b")# 
 
Da Sie in jedem Falle eine Konfiguration von #on("b")#gs-Prozess#off("b")# vornehmen sollen,
aktivieren Sie jetzt bitte den Menupunkt "Konfigurieren". Daraufhin erscheint die
folgende Auswahl: 
            +-----------------------------+
            |  Auswahl der Steckplatzart  |
            |                             |
            |   c Compactbox              |
            |   e Einzelsteckplatz        |
            |   m Mehrfachsteckplatz      |
            |                             |
            | Compact   Einzel   Mehrfach |
            +-----------------------------+
 
#center#Abb.12:  Auswahl der Steckplatzart 
 
 
Haben Sie eine Compact-Box angeschlossen, so ist die Konfiguration schnell erledigt:
Sie tippen die Taste <c>. Daraufhin wird die komplette Konfiguration ausgeführt
und die Einstellung eingeblendet. 
                 +------------------------------------+
                 |  Eingestellt: Compactbox           |
                 |                                    |
                 |  Belegung der Kanäle:              |
                 |                                    |
                 |  Kanal 1:   Analogeingang 1 (E1)   |
                 |                                    |
                 |  Kanal 2:   Analogeingang 2 (E2)   |
                 |                                    |
                 |  Kanal 3:   Digitaleingang         |
                 |                                    |
                 |  Kanal 4:   Digitalausgang         |
                 +------------------------------------+
 
#center#Abb.13:  Compact-Box: Belegung der Kanäle 
#page# 
Die Anzeige verschwindet, wenn Sie eine beliebige Taste tippen. 
 
Anders dagegen, wenn Sie zuvor dem System mitgeteilt haben, daß ein Einzelsteck­
platz bzw. ein Mehrfachsteckplatz angeschlossen ist. In diesem Fall müssen Sie
#on("b")#gs-Prozess#off("b")# noch mitteilen, welche Steckkarten Sie verwenden. Dazu wird Ihnen die
folgende Auswahl angeboten: 
 
               +----------------------------------+
               | Angabe der Interfacekarte:       |
               |                                  |
               |       k  Kombikarte              |
               |       e  E/A - Karte             |
               |       d  D/A - Wandler - Karte   |
               |       a  A/D - Wandler - Karte   |
               |       0  Keine Steckkarte        |
               |                                  |
               |    Kombi  E/A  D/A  A/D  Keine   |
               +----------------------------------+
 
 
#center#Abb.14:  Auswahl einer Interfacekarte 
 
 
Wenn Sie eine Kombikarte, eine E/A-Karte oder eine D/A-Wandler-Karte verwenden,
ist durch die jeweilige Angabe der Einstellvorgang abgeschlossen. #on("b")#gs-Prozess#off("b")# teilt
Ihnen daraufhin - ähnlich wie bei der Compact-Box - jeweils die Belegung der Kanäle
mit. Bei Nutzung der D/A-Wandler-Karte wird zusätzlich der gültige Spannungs­
bereich angezeigt. 
#page# 
 
         +------------------------------------------------------+
         |      Einzelsteckplatz mit D/A - Karte:               |
         |                                                      |
         |         Belegung der Kanäle:                         |
         |                                                      |
         | Die Karte stellt einen Analogausgang zur Verfügung,  |
         | der auf zwei Arten angesprochen werden kann:         |
         |                                                      |
         |       Kanal 1:    Spannungsbereich  -5 V  -  +5 V    |
         |                                                      |
         |       Kanal 2:    Spannungsbereich   0 V  -  +5 V    |
         |                                                      |
         +------------------------------------------------------+
 
#center#Abb.15:  Kanalbelegung D/A-Karte (Einzelsteckplatz) 
 
 
Haben Sie dagegen eine A/D-Wandler-Karte angegeben, so erfragt #on("b")#gs-Prozess#off("b")# noch
die Schalterstellung der DIP-Schalter auf der A/D-Wandler-Karte. Über diese Schalter­
stellung kann der Spannungsbereich der Analogeingänge festgelegt werden. Das
erfolgt nach folgendem Prinzip: 
 
Das Spannungsintervall wird jeweils über 3 Schalter festgelegt. Für den Eingang 1
stehen die Schalter 1, 2 und 3 zur Verfügung, für denn Eingang 2 die Schalter 4, 5
und 6. Im folgenden werden wir die Einstellung für den Eingang 1 aufzeigen - für den
Eingang 2 ist mit den drei genannten Schaltern synonym zu verfahren. 
 
Steht Schalter 1 in der Position 'ON', so ist ein Spannungsintervall von 0V - 25V einge­
stellt (Fall 1) - unabhängig von der Stellung der anderen beiden Schalter. Innerhalb
eines Schaltertripletts "dominiert" nämlich ein Schalter mit kleinerer Nummer über
den/die mit größerer Nummer.  Ist Schalter 1 in Stellung 'OFF' und Schalter 2 in
Stellung 'ON', so ist ein Spannungsbereich von 0V - 2,5V eingestellt (Fall 2). Sind die
beiden ersten Schalter in der Position 'OFF' und nur der Schalter 3 in der Position
'ON', so ist ein Spannungsintervall von 0V - 0,25V eingestellt (Fall 3). 
#page# 
Eine besondere Bedeutung kommt noch den Schaltern 7 und 8 zu, denn sie beein­
flussen noch die eben genannten Intervalle. Dabei ist überraschenderweise der
Schalter 7 für den Eingang 2 und der Schalter 8 für den Eingang 1 zuständig. Die drei
oben genannten Fälle gelten nämlich nur, wenn Schalter 8 in der Position 'OFF' steht.
In der Position 'ON' werden die durch das Schaltertriplett eingestellten Spannungs­
intervalle dagegen symmmetrisch um 0V angelegt: im Fall 1 also der Bereich von
-12,5V - +12,5V, im Fall 2 von -1,25V - +1,25V und im Fall 3 von -0,125V -
+0,125V. 
       +----------------------------------------------------+
       | Angabe der Schalterstellungen auf der A/D - Karte: |
       |                                                    |
       | Bitte die aktuelle Schalterstellung eintragen:     |
       |                                                    |
       | Es bedeutet:  1 - Schalterstellung "on"            |
       |                       0 - Schalterstellung "off"   |
       |                                                    |
       | Nummer:   12345678                                 |
       |                                                    |
       | Eingabe:  10010010                                 |
       +----------------------------------------------------+
#center#Abb.16:  A/D-Karte: Angabe der Schalterstellung 
 
 
Der Spannungsbereich wird von #on("b")#gs-Prozess#off("b")# aus der Schalterstellung automatisch
ermittelt und neben den festgelegten Kanalnummer angezeigt. Die obige Schalter­
stellung führt somit zu folgender Meldung: 
 
    +----------------------------------------------------------------+
    |             Einzelsteckplatz mit A/D - Karte:                  |
    |                                                                |
    |             Zwei analoge Einträge stehen zur Vefügung:         |
    |                                                                |
    | Kanal 1:   (E1)   Spannungsbereich    0.000 V  -  +25.000 V    |
    |                                                                |
    | Kanal 2:   (E2)   Spannungsbereich  -12.500 V  -  +12.500 V    |
    |                                                                |
    +----------------------------------------------------------------+
#center#Abb.17:  A/D-Karte: Kanalbel./Spannungsber.(Bspl.) 
#page# 
Während Sie bei Verwendung eines Einzelsteckplatzes nur einmal nach all diesen
Angaben gefragt werden, erfolgt die Abfrage bei einem Mehrfachsteckplatz viermal
hintereinander. Haben Sie einen Steckplatz nicht belegt, so tippen Sie bei der Angabe
der Interfacekarte die Taste <0> (keine Steckkarte). 
 
 
#on("b")#5.3.2  Bedeutung der Kanalnummern#off("b")# 
 
Nachdem Sie #on("b")#gs-Prozess#off("b")# die Angaben zur Konfiguration (Steckplatzart/Interface­
kartenart) mitgeteilt haben, teilt Ihnen das System jeweils die Kanalnummern mit.
Diese Nummern sollten Sie sich merken, denn wenn Sie mit dem von #on("b")#gs-Prozess#off("b")# zur
Verfügung gestellten Befehlen programmieren wollen, müssen Sie jeweils diese
Kanalnummern angeben. Fordern Sie von einem Kanal eine Aktion, die nicht ausge­
führt werden kann/nicht sinnvoll ist, so kann Ihnen dadurch eine Fehlermeldung
zugestellt werden. 
 
Auf der Compact-Box bzw. der Kombikarte an einem Einzelsteckplatz ist die
Numerierung identisch: die beiden Analogeingänge haben die Kanalnummern 1 und
2, der Digitaleingang hat die Nummer 3 und der Digitalausgang die Nummer 4. 
 
Die E/A-Karte verfügt nur über je einen digitalen Eingang und digitalen Ausgang, die
über die Kanäle 1 und 2 angesprochen werden können. Damit nun aber auch
Programme, die für die Compact-Box bzw. eine Kombikarte geschrieben sind, auch
auf der E/A-Karte laufen, können diese beiden Kanäle auch unter der Kanalnummer
3 (Eingang) bzw. 4 (Ausgang) angesprochen werden. Natürlich ist ein solches
Programm nur dann auf der E/A-Karte lauffähig, wenn keine Analogeingänge ange­
sprochen werden, denn die sind ja auf der E/A-Karte gar nicht vorhanden! 
 
Die Kanalnummern auf einem Mehrfachsteckplatz werden nach folgendem System
vergeben: Die Kanalnummern sind immer zweistellig. Über die erste Ziffer wird der
Steckplatz (1 - 4) identifiziert, über die zweite Ziffer der eigentliche Kanal auf der
Steckkarte. Steckt also z.B. in Steckplatz 3 eine Kombikarte (4 mögliche Kanäle) und
möchten Sie hier den Digitalausgang (Kanal 4) ansprechen, so muß als Kanal die
Nummer 34 angegeben werden. 
#page# 
Aber auch hier gibt es eine zusätzliche Vereinbarung: Der erste Steckplatz eines
Mehrfachsteckplatzes kann (zusätzlich) wie ein Einzelsteckplatz angesprochen
werden. Bei Belegung des ersten Steckplatzes mit einer Kombikarte, können Sie die
Karte also über die Kanalnummern 11, 12, 13 und 14 ansprechen und zusätzlich
über die Nummern 1, 2, 3 und 4. Der Sinn der dahintersteckt ist Ihnen sicher sofort
klar geworden: Dadurch kann ein Programm, das z.B. für die Compact-Box ge­
schrieben wurde, ohne Änderung übernommen werden, wenn eine Kombikarte auf
Steckplatz 1 des Mehrfachsteckplatzes steckt etc.. 
 
 
#on("b")#5.4  Aus- und Eingabetest#off("b")# 
 
Nun wird es spannend, denn Sie sollen jetzt testen, ob Sie mit Ihrem Interface-System
arbeiten können. Sofern Sie mit dem MUFI als Adapter arbeiten, schalten Sie das
MUFI mit dem Schalter an der Vorderseite ein. 
 
Wenn Sie das MUFI im Terminalkanal betreiben, kann das Einschalten dazu führen,
daß eine unsinnige Zeichenkette auf dem Bildschirm erscheint. Diese Zeichen
werden durch den "Einschaltknack" verursacht und haben eigentlich nichts zu
bedeuten. Allerdings läßt sich die Ausgabe auch nicht verhindern. Die Zeichen ver­
schwinden bei der nächsten Menubedienung. 
 
Wenn Sie alle Hinweise in Kapitel 5.1 beachtet haben, müßte spätestens jetzt das
Interface-System betriebsbereit sein - gleichgültig, welchen Adapter und welche
Interface-Komponenten Sie verwenden. 
 
Aktivieren Sie nun den Menupunkt 'Ausgabetest', indem Sie z.B. die Taste <a>
tippen. Wenn Sie eine Compact-Box angeschlossen haben, müßte die folgende Ein­
blendung in Ihrem Menubildschirm erscheinen: 
#page# 
   +-------------------------------------------------------------+
   |                        Ausgabetest                          |
   |                                                             |
   |  Ausgabe an Kanal 4 (= Digitalausgang der Compact-Box)      |
   |-------------------------------------------------------------|
   |                                                             |
   |                                                             |
   |                                                             |
   |  Ausgabewert: 129                                           |
   |                                                             |
   |-------------------------------------------------------------|
   |  Bitte einen Wert zwischen 0 und 255 eingeben!              |
   |                                                             |
   +-------------------------------------------------------------+
#center#Abb.18:  Ausgabetest - Einblendung 
 
 
Eine nahezu identische Einblendung erhalten Sie, wenn Sie einen Einzelsteckplatz
mit Kombi- oder E/A-Karte angeschlossen haben. 
 
Da beim Ausgabetest nur die Ausgänge einer Karte angesprochen werden, ist ein
Ausgabetest an einer A/D-Wandler-Karte nicht möglich! An einer D/A-Wandler-Karte
kann zwar prinzipiell ein Ausgabetest erfolgen - ist aber nicht sinnvoll, da die zur
Kontrolle notwendige Leuchtdiodenanzeige hier nicht angeschlossen werden kann. 
 
Wenn Sie einen Mehrfachsteckplatz angeschlossen haben, werden Sie zuvor noch
gefragt, welchen Steckplatz Sie testen wollen. Bitte beachten Sie hier das im vorigen
Abschnitt Gesagte. Ansonsten ist auch hier die anschließende Einblendung nahezu
identisch. 
 
Zum Testen geben Sie jetzt einige Werte zwischen 0 und 255 ein. Nach jeder Eingabe
tippen Sie bitte die <RETURN>-Taste. Bei Eingabe der '0' müßten alle Leucht­
dioden dunkel sein. Bei '1' dürfte nur die letzte Leuchtdiode (rechts) aufleuchten,
bei 128 nur die erste (links); bei 255 müßten alle 8 Leuchtdioden der Anzeige auf­
leuchten. 
#page# 
Sollten wider Erwarten Fehler aufgetreten sein, lesen Sie bitte im Kapitel 5.5 nach.
Wenn alles wie beschrieben funktioniert hat, gehen Sie gleich zum Eingabetest über.
Verlassen Sie dazu den Ausgabetest durch die Tastenfolge <ESC><q> und
aktivieren Sie anschließend den Menupunkt 'Eingabetest' indem Sie z.B. die Taste
<e> tippen. 
 
Außer bei der E/A-Karte im Einzelsteckplatz werden Sie hier zusätzlich nach der
Nummer des Kanals gefragt, über den der Einlesetest erfolgen soll. Das liegt daran,
daß sich auf den meisten Interfacesystemen mehrere Eingänge befinden. Beim
Einzelsteckplatz werden die Auswahlmöglichkeiten vorgegeben; beim Mehrfachsteck­
platz erfolgt eine freie Eingabe der Kanalnummern. 
 
Wenn Sie eine Compact-Box angeschlossen haben, müßte die folgende Einblendung
in Ihrem Menubildschirm erscheinen: 
 
   +-------------------------------------------------------------+
   |                          Eingabetest                        |
   |                                                             |
   |   Eingabe von Kanal 3 (= Digitaleingang der Compact-Box)    |
   |                                                             |
   |-------------------------------------------------------------|
   |                                                             |
   |                                                             |
   |   Eingelesener Wert: 129                                    |
   |-------------------------------------------------------------|
   |                                                             |
   +-------------------------------------------------------------+
 
#center#Abb.19:  Eingabetest - Einblendung 
 
 
Wenn Sie den Codekartenleser am Digitaleingang angeschlossen haben und alles
korrekt funktioniert, müßte als eingelesener Wert die Zahl 255 erscheinen. Legen Sie
eine Lochkarte ein oder legen Sie einen Finger zwischen Beleuchtung und Licht­
sensoren. Daraufhin müßte sich die Anzeige auf dem Bildschirm ändern. Nun
können Sie versuchen, durch Abdecken der Sensoren die bei der Ausgabe schon
angesprochenen Testwerte zu erhalten. 
#page# 
Wenn Sie über keinen Codekartenleser verfügen, so benutzen Sie jetzt bitte das kleine
Kabelstück, das Sie auf den +5V-Lötschuh aufgesteckt haben und dessen anderes
Ende bisher noch nirgendwo aufgesteckt ist. Berühren Sie nun mit diesem freien
Ende die Stifte, die im 8poligen Eingangs-Platinenstecker sichbar sind. Wird kein Pin
berührt, müßte auf dem Bildschirm der Wert '0' erscheinen. Berühren Sie einen der
Pins an der Seite, müßte der Wert '1', berühren Sie den an der anderen Seite, müßte
der Wert '128' erscheinen. Wenn Sie also nacheinander die Pins berühren, müßten
die Zahlenwerte 1, 2, 4, 8, 16, 32, 64, 128 erscheinen. 
 
Wenn sowohl Ausgabe- als auch Eingabetest korrekt abgewickelt werden konnten,
brauchen Sie das Kapitel 5.5 nicht zu lesen, denn das beschäftigt sich nur mit
Fehlern, die bisher aufgetreten sein könnten. Den Eingabetest verlassen Sie bitte
durch die Tastenfolge <ESC><q>. 
 
 
#on("b")#5.5  Mögliche Fehlerfälle#off("b")# 
 
#on("b")# 
-  Das MUFI wurde in den Terminalkanal eingebaut. Selbst beim vom Netz
   getrennten MUFI ist kein Terminalbetrieb möglich: 
#off("b")# 
 
   -->  Das neu eingefügte Kabel ist unzureichend oder falsch verdrahtet. Bitte
        Hinweise im MUFI-Handbuch lesen bzw. Informationen von BICOS ein­
        holen. 
 
 
#on("b")# 
-  Das MUFI wurde in den Terminalkanal eingebaut. Beim Einschalten des
   MUFIs erscheinen unsinnige Zeichenketten auf dem Bildschirm bzw. das
   Einschalten hat noch schwerwiegendere Folgen: #off("b")# 
 
   -->  Der "Einschaltknack" des MUFI "schlägt auf andere Systemkomponenten
        durch". Sofern nur Zeichen auf dem Bildscchirm erscheinen, ist das weit­
        gehend unproblematisch - kann auch nicht beseitigt werden. Ansonsten
        erst das MUFI, dann das Terminal bzw. den Rechner einschalten. Ggf.
        Rücksprache mit BICOS. 
#page# 
#on("b")# 
-  Das MUFI wurde in den Terminalkanal eingebaut. Bei ausgeschaltetem
   MUFI ist ein einwandfreier Terminalbetrieb möglich, bei einge­
   schaltetem MUFI reagiert das Terminal nicht mehr: 
#off("b")# 
 
   -->  MUFI- und Terminalkonfiguration passen nicht zueinander (Baudrate,
        Protokoll, Anzahl der Stopbits). Einstellungen am Terminal, in der Task
        'configurator' und die DIP-Schalter-Stellung im MUFI kontrollieren; ggf.
        Neueinstellung. 
 
   -->  MUFI defekt - Rücksprache mit BICOS. 
 
 
#on("b")# 
-  Beim Austest erscheint die Einblendung "Interface ist noch nicht
   konfiguriert!": 
#off("b")# 
 
   -->  #on("b")#gs-Prozess#off("b")# wurde noch nicht konfiguriert. Unter dem Oberbegriff 'Inter­
        face' den Menupunkt 'Konfigurieren' aktivieren und den Ausführungen in
        Kapitel 5.3 folgend die Konfiguration vornehmen. 
 
   -->  Bei Betrieb des Interface Systems an separater serieller Schnittstelle werden
        unbenannte Sohntasks eingerichtet (unter der eigenen Task bzw. unter
        einer "zentralen Abwicklungstask"). Diese unbenannte Sohntask wurde
        irrtümlich gelöscht. Abhilfe: Neukonfiguration vornehmen. #on("b")#*)#off("b")# 
 
   -->  Bei Betrieb des Interface-Systems an separater serieller Schnittstelle und
        "zentraler Abwicklungstask" wurde in der "zentralen Abwicklungs-Task"
        eine Neukonfiguration von #on("b")#gs-Prozess#off("b")# vorgenommen. Die dabei ent­
        standene unbenannte Sohntask wird von den "alten" Sohntasks nicht mehr
        erkannt. Abhilfe: Alle Sohntasks, die auf die "zentrale Abwicklungstask"
        zugreifen, löschen und neu einrichten. #on("b")#*)#off("b")# 
#page# 
#on("b")# 
-  Es erscheint die Fehlermeldung "Interface meldet sich nicht!": 
#off("b")# 
 
   -->  Der angeschlossene Adapter ist ohne Spannungsversorgung. Netzstecker
        des Adapters überprüfen. Beim MUFI den Schalter an der Vorderseite in
        Stellung 'Ein' bringen. Beim RS232-Adapter den 3poligen Platinenstecker
        in die 12V-Spannungsversorgungsbuchse am Interface-System einstecken. 
 
   -->  Es wurde bei der Installation von #on("b")#gs-Prozess#off("b")# eine falsche Interface-
        Kanal-Nummer angegeben. Die Kanalnummer kann mit 'put(interface­
        kanal) <RETURN>' erfragt werden. Kanalnummer überprüfen. Ggf. neue
        Kanalnummer angeben. Dafür steht die Prozedur 'PROC interfacekanal
        (INT CONST nummer)' zur Verfügung. 
 
   -->  Speziell beim MUFI: Das MUFI wurde zwischenzeitlich (versehentlich)
        ausgeschaltet oder es kam zu einem "ungeregeltem Bedienungsabbruch"
        z.B. durch Drücken der SV-Taste im laufenden Betrieb. Die interne Ein­
        stellung des MUFIs ist verändert. Abhilfe: Menupunkt verlassen, MUFI
        ausschalten, einige Sekunden warten, MUFI anschalten, Menupunkt neu
        anwählen. 
 
 
#on("b")# 
-  Es erscheint die Fehlermeldung "Interface-Kanal ist belegt!: 
#off("b")# 
 
   -->  Das Interface-System ist an einer separaten seriellen Schnittstelle ange­
        schlossen. Am Kanal wurden schon andere Geräte betrieben, die nicht
        ordentlich abgemeldet wurden. Mit 'taskinfo (2) <RETURN>' kann die
        Belegung der Kanäle eingesehen werden. Ggf. erst ein Terminal an den
        Kanal anschließen (Kanal umkonfigurieren!) und dort 'break
        <RETURN>' geben. Oder von einer privilegierten Task aus die ange­
        koppelte Task "abschießen". 
 
   -->  Das Interface-System ist an einer separaten seriellen Schnittstelle ange­
        schlossen. Eine andere Task greift bereits auf das Interface-System am
        eingestellten Kanal zu. Benutzer bitten, den Kanal freizugeben. #on("b")#*)#off("b")# 
#page# 
#on("b")# 
-  Es erscheint die Fehlermeldung "Interface-Task ist besetzt!": 
#off("b")# 
 
   -->  Das Interface-System ist an einer separaten seriellen Schnittstelle ange­
        schlossen. Die Kommunikation erfolgt über eine "zentrale Abwicklungs­
        task". Auf diese Task greift zur Zeit ein anderer Benutzer zu. Mit dem
        anderen Benutzer verständigen und warten, bis die Task freigegeben wird.
        #on("b")#*)#off("b")# 
 
 
#on("b")# 
-  Es erschient die Fehlermeldung "An Kanal ... ist keine Digitaleingabe
   (Digiatalausgabe, Analogeingabe, Analogausgabe) möglich!": 
#off("b")# 
 
   -->  Laut Konfiguration ist die gewünschte Leistung am angegebenen Kanal auf
        der angeschlossenen Interfacekarte nicht möglich. Kanal neu konfigurieren
        oder anderen Kanal ansprechen bzw. Interface-Karte wechseln und neu
        konfigurieren. 
 
 
#on("b")# 
-  Es erschient die Fehlermeldung "Kanalnummer ... ist unzulässig!": 
#off("b")# 
 
   -->  Es wurde eine - bezogen auf das angeschlossene Interface-System - un­
        sinnige Kanalnummer angegeben. Diese Fehlermeldung erscheint in jedem
        Falle, wenn die Kanalnummer kleiner als 1 oder größer als 49 ist! Abhilfe:
        korrekte Kanalnummer angeben. 
 
 
#on("b")# 
-  Es erschient die Fehlermeldung "Interface kann nicht geöffnet werden!": 
#off("b")# 
 
   -->  Interessanter Fehler! Bitte alle Details der Fehlersituation notieren und an
        ERGOS einsenden! 
#page# 
#on("b")# 
-  Beim Austest erscheint zwar keine Fehlermeldung, aber die Leucht­
   diodenanzeige zeigt auf verschiedene Ausgabewerte keine Reaktion
   (bleibt dunkel oder unsinnige fixe Anzeige): 
#off("b")# 
 
   -->  Die angeschlossene Leuchtdiodenanzeige ist nicht korrekt angeschlossen.
        Platinenstecker (Digitalausgang) überprüfen; Massekabel überprüfen; die
        beiden Überbrückungskabel (Abb.7) überprüfen. 
 
   -->  Steckplatz/Compact-Box wird nicht mit Spannung versorgt. Netzkabel/An­
        schluß zum Netzteil überprüfen. 
 
   -->  Verbindungskabel Adapter - Interface-System nicht richtig aufgesteckt oder
        intern falsch verdrahtet. 
 
 
#on("b")# 
-  Beim Austest erscheinen verschiedene Ausgabemuster an den Leucht­
   dioden, die Muster sind aber nicht korrekt: 
#off("b")# 
 
   -->  Kabel vom Adapter zum Interface ist falsch verdrahtet. 
 
   -->  Kabel in der Leuchtdiodenanzeige (Selbstbau ?) sind falsch verdrahtet. 
 
 
#on("b")#*)#off("b")#  Die hier genannten Fehlermeldungen sind bei der oben beschriebenen Erst­
    installation (noch) nicht möglich. Sie können erst auftreten, wenn weiter­
    gehende Installationen erfolgt sind (z.B. Installation einer "zentralen Abwick­
    lungs-Task" etc.). Zum Verständnis lesen Sie bitte das Kapitel "Hinweise für den
    Systembetreuer/Programmierer". 








